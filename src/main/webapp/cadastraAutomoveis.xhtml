<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:body>
        <h:form>
            <h:messages />
            <h:messages globalOnly="true"/>
            <hr/>

            <h:panelGrid columns="2">
                Marca: 
                <h:selectOneMenu label="marca" value="#{automovelBean.marca}"
                                 required="true" converter="entityConverter">
                    <f:selectItem itemLabel="-- Selecione -- "
                                  noSelectionOption="true" />
                    <f:selectItems value="#{marcaBean.marcas}" var="marca"
                                   itemValue="#{marca}" itemLabel="#{marca.nome}" />
                    <f:ajax render="selectModelo" />
                </h:selectOneMenu>

                Modelo: 
                <h:selectOneMenu label="modelo" id="selectModelo" 
                                 value="#{automovelBean.automovel.modelo}"
                                 required="true" converter="entityConverter">
                    <f:selectItem itemLabel="-- Selecione -- "
                                  noSelectionOption="true" />
                    <f:selectItems value="#{automovelBean.marca.modelos}"
                                   var="modelo" itemValue="#{modelo}"
                                   itemLabel="#{modelo.descricao}" />
                </h:selectOneMenu>

                Ano de Fabricação: 
                <h:inputText value="#{automovelBean.automovel.anoFabricacao}">
                    <f:validateLongRange minimum="1950" maximum="2018"/>
                </h:inputText>

                Ano do Modelo: 
                <h:inputText id="anoModelo" value="#{automovelBean.automovel.anoModelo}" >
                    <f:validateLongRange minimum="1950" maximum="2019"/>
                </h:inputText>
                <h:message for="anoModelo"/>

                Preço: <h:inputText value="#{automovelBean.automovel.preco}" />

                Kilometragem: <h:inputText value="#{automovelBean.automovel.kilometragem}" />

                Observação: <h:inputTextarea value="#{automovelBean.automovel.observacoes}"/>
            </h:panelGrid> 

            <h:commandButton value="Salvar" action="#{automovelBean.salva(automovelBean.automovel)}"/>

        </h:form>
    </h:body>
</html>
